# 考试

#### 1.诊断数据库，并恢复数据库服务

要求：

1）检查数据库状态，并使数据库恢复成可用状态。
2）登录Mysql实例，并执行如下SQL

```
insert into company.order_info(product_name,price)values('water',33.45);
```



#### 2.创建多维分区集合

要求：

1）创建一个名为maincs.maincl的集合，集合以列order_time为分区键,做range分区，order_time为date类型。
2）order_time列中2019年1月的数据保存在year2019.month\_1子集合，2019年2月的数据保存在year\_2019.month_2子集合。
3）year2019.month\_1和year2019.month_2均以account_id做hash分区，保存在数据组group1和group2上。

提示：

1）创建范围分区的主集合。

2）创建一个域，域包含group1和group2。

3）创建hash分区的子集合，子集合数据保存在域上。

4）主集合和子集合进行关联。



#### 3.一致性配置

要求：

1）把year2019.month_1和year2019.month_2同步参数这位至为-1



4）MySQL实例执行

要求：

1） 通过MySQL实例操作

```
insert into maincs.maincl(account_id,order_time) values(132,'2019-01-13');
```

提示：

1）集合空间与MySQL实例的关联。

2）集合与MySQL实例的关联。



#### 5.通过SparkSQL实例操作

要求：

1）SparkSQL创建表maincs,maincs与SDB中的maincs.maincl关联。

2）SparkSQL中表maincs能通过SDB的group1,group2,group3的从节点访问数据。

提示：

1）在SDB中定义数据从节点的instanceid。

2）SparkSQL创建maincs表时指定referedinstance参数。
