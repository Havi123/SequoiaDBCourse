# 考试

## 挑战介绍

Spark 作为一种快速、通用、可扩展的大数据分析引擎，是当前大数据时代中数据处理中不可缺少的大数据并行计算框架，它基于内存计算，在保证了数据处理的实时性的同时还保证了高容错性和高可伸缩性，允许用户将 Spark 集群部署在大量廉价的硬件之中。

本挑战使用 Spark-SequoiaDB 连接组件，将 SequoiaDB 可以作为 Spark 的数据源，从而可以通过 SparkSQL 实例对 SequoiaDB 巨杉数据库存储引擎的数据进行查询、统计操作，从而熟悉 SequoiaDB 和 SparkSQL 关联表的创建使用，Spark 的执行计划分析等操作。

#### 知识点

SequoiaDB 和 Spark 表的关联，Spark 的执行计划分析

## 挑战内容

1) 在已搭建并对接好的 SequoiaDB 和 Spark 的环境中，在 SequoiaDB 创建集合空间 company，集合 employee，插入数据 ( empno : 10001, ename : 'Georgi', age : 48 )；

2) 用 beeline 登录 Spark，创建对应集合空间的数据库 company，对应集合的表 employee，插入数据 ( empno : 10002, ename : 'Bezalel', age : 21 )；

3) 在 Spark 上查看数据内容是否正常；

4) 在 SequoiaDB 上查看数据内容是否正常；

5) 执行计划分析。

## 挑战要求

1) 完成 SequoiaDB 和 Spark 关联表的创建；

2) 插入的两条数据要在 Spark 以及 SequoiaDB 正确显示；

3) 进行 SparkSQL 执行计划的分析。

## 挑战配置联机交易与统计分析相互隔离

#### 挑战介绍

配置 SparkSQL 实例与 MySQL 实例连接不同的协调节点，并在 SparkSQL 连接的协调节点上配置为优先从备节点读取数据。

#### 知识点

配置联机交易与统计分析相互隔离

## 挑战内容

1) 创建集合空间 company，集合 employee；

2) 在 MySQL 实例创建 SequoiaSDB 映射表,并插入数据 ( 10001, 'Georgi', 48 )，( 10002, 'Bezalel', 21 )，( 10003, 'Parto', 33 )，( 10004, 'Chirstian', 40 )，( 10005, 'Kyoichi', 23 )，( 10006, 'Anneke', 19 )，( 10007, 'Ileana', 28 )，( 10008, 'Liz', 38 )，( 10009, 'Parish', 31 )，( 10010, 'Odette', 23 )；
  
3) 将协调节点 21810 设置为只读备节点， SparkSQL 连接协调节点 21810；

4) 确认数据组中 11820 为主节点，检查数据组 1 各数据节点的数据读取量。

## 挑战要求

1) 配置 SparkSQL 实例与 MySQL 实例连接不同的协调节点；

2) 在 SparkSQL 连接的协调节点上配置为优先从备节点读取数据。

#### 提示

1) SparkSQL 中指定协调节点的连接是在建表的时候指定；

2) SparkSQL 建表时需要与 SequoiaDB 数据库中的集合空间和集合进行关联；

3) SparkSQL 建表时需要保证 SequoiaDB 数据库中集合空间和集合已存在；

4) SequoiaDB 数据库的读写分离可针对节点进行配置，并且在下一次连接生效。
