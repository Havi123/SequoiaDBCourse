## 挑战介绍

SequoiaDB 巨杉数据库是一款开源的金融级分布式关系型数据库，主要面对高并发联机交易型场景提供高性能、可靠稳定以及无限水平扩展的数据库服务，拥有联机交易、数据中台、内容管理三大类应用场景。

SequoiaDB巨杉数据库可以为用户带来完全兼容传统关系型数据、数据分片对应用程序完全透明、多租户能力，云环境下支持多种级别的物理与逻辑隔离等价值。

此挑战是使用快速部署工具安装部署SequoiaDB,并查看节点信息是否正常，熟悉数据库的安装部署。

#### 知识点

安装部署SequoiaDB及MySQL实例

## 挑战内容

1) 到桌面目录下，(/home/shiyanlou)，找到安装包，解压sequoiadb-3.4-linux_x86_64.tar.gz；

2) 切换至root用户，使用./setup.sh脚本安装SequoiaDB；

3) 使用quickDeploy.sh部署SequoiaDB；

4) 查看SequoiaDB版本信息；

5) 用sdblist -t all查看部署节点情况；

6) 创建 company 集合空间和创建 employee 集合；

7) 使用 insert() 向 SequoiaDB 巨杉数据库集合中写入记录( empno : 1 , ename : "Jacky", age : 28)；

8) 使用 find() 方法从集合中查询数据记录；

9) 创建 MySQL 实例myinst；

10) 登录 MySQL shell；

11) 创建数据库company；

12) 创建包含自增主键字段的 employee 表；

13) 使用 insert() 向 employee表中写入记录( empno : 2 , ename : "Bob", age : 29)；

14) 查询employee表；

## 挑战要求

1) 用脚本正确安装部署SequoiaDB及操作；

2) 创建MySQL实例；

## 示例代码

1) 到桌面目录下，(/home/shiyanlou)，找到安装包，解压sequoiadb-3.4-linux_x86_64.tar.gz；
```shell
cd /home/shiyanlou
tar -zxvf sequoiadb-3.4-linux_x86_64.tar.gz
```

2) 切换至root用户，使用./setup.sh脚本安装SequoiaDB；
```shell
sudo su root(密码在网址右边的SSH直连中) 
./setup.sh
```

3) 使用quickDeploy.sh部署SequoiaDB；
```shell
su sdbadmin
cd /opt/sequoiadb/tools/deploy
./quickDeploy.sh --sdb
```

4) 查看SequoiaDB版本信息；
```shell
sdb --version
```

5) 用sdblist -t all查看部署节点情况；
```shell
sdblist -t all
```

6) 创建 company 集合空间和创建 employee 集合；
```javascript
db.createCS ( "company" ).createCL( "employee" ) ;
```

7) 使用 insert() 向 SequoiaDB 巨杉数据库集合中写入记录( empno : 1 , ename : "Jacky", age : 28)；
```javascript
db.company.employee.insert ({ empno : 1 , ename : "Jacky", age : 28 }) ;
```

8) 使用 find() 方法从集合中查询数据记录；
```javascript
db.company.employee.find () ;
```

9) 创建 MySQL 实例myinst；
```shell
/opt/sequoiasql/mysql/bin/sdb_sql_ctl addinst myinst -D database/3306/ -p 3306
/opt/sequoiasql/mysql/bin/sdb_sql_ctl start myinst 
```

10) 登录 MySQL shell；
```shell
/opt/sequoiasql/mysql/bin/mysql -h 127.0.0.1 -P 3306 -u root
```

11) 创建数据库company；
```sql
CREATE DATABASE company ;
USE company ;
```

12) 创建包含自增主键字段的 employee 表；
```sql
CREATE TABLE employee (empno INT AUTO_INCREMENT PRIMARY KEY, ename VARCHAR(128), age INT) ;
```

13) 使用 insert() 向 employee表中写入记录( empno : 2 , ename : "Bob", age : 29)；
```sql
INSERT INTO employee VALUES (2, 'Bob', 29) ;
```

14) 查询employee表；
```sql
SELECT * FROM employee ;
```
