---
show: step
version: 1.0 
---

# 快速创建集群

## 课程介绍

本课程介绍了如何快速安装 SequoiaDB 巨杉数据库集群和 MySQL 实例。

#### 请点击右侧选择使用的实验环境

#### 注意点
本章介绍如何安装sdb集群和MYSQL实例。
1）SequoiaDB 可以选择部署在单台机器上，也可以部署在多台机器上。
2）安装过程需要使用操作系统 root 用户权限。
3）请确保所有主机都设置了主机名，并且都设置了主机名/IP地址映射关系。

#### 实验环境
课程使用的实验环境为 Ubuntu Linux 16.04 64 位版本。SequoiaDB 数据库引擎以及 SequoiaSQL-MySQL 实例均为 3.4 版本。



##  检查安装介质是否已准备好
安装目录已经提前放置在 /home/shiyanlou 目录。

```
cd /home/shiyanlou
```
能看到一个安装包 sequoiadb-3.4-linux_x86_64.tar.gz 

操作截图：
![检查安装包](https://doc.shiyanlou.com/courses/1480/1207281/736a2463740a7e973e6ba41207ad9469)


## 安装sdb集群
1）解压安装包； 

```
tar -xvf ./sequoiadb-3.4-linux_x86_64.tar.gz
```

2）进入解压目录；
```
cd sequoiadb-3.4
```

## 切换用户

1）命令行输入更新 root 密码命令；

```
sudo passwd root
```

2）在 `[sudo] password for shiyanlou:` 后输入当前用户的密码；

> Note:
> 当前用户的密码在右侧工具栏 [SSH直连]

3）当前用户密码验证通过后, 输入需要设置的 root 超级管理员账户密码 `Enter new UNIX password:` ；

4）再次输入密码，验证输入的密码 `Retype new UNIX password:`；

5）出现 `passwd: password updated successfully` 字样，表示超级管理员 root 账户密码设置成功；

6）切换至 root 用户，验证超级管理账户密码是否更新成功，验证通过则成功切换到超级管理员 root 账户；
```
su root
```

7）增加可执行权限；

```
chmod u+x sequoiadb-3.4-linux_x86_64-installer.run
chmod u+x sequoiasql-mysql-3.4-linux_x86_64-installer.run
```

8）运行安装脚本；
```
./setup.sh
```
选项详细说明：
* [快速入门](http://doc.sequoiadb.com/cn/sequoiadb-cat_id-1519612914-edition_id-0)



按照提示一步一步安装(要选一下安装语言，同意协议以及哪种数据库实例，其余的全部敲回车选默认值)

安装完成后的截图：
![安装完成](https://doc.shiyanlou.com/courses/1480/1207281/590058544bef538f93a9dc0db5d026c8)

## 安装完毕后检查sdb版本和数据库服务

```
su - sdbadmin
```
>Note:
>
>用户 sdbadmin 的密码为 sdbadmin



1）检查sdb版本；
```
sdb --version
```

>Note:
>
>用户 sdbadmin 的密码为 sdbadmin

操作截图：
![检查数据库版本](https://doc.shiyanlou.com/courses/1480/1207281/3539105e5381037aa9a3f8444301d6bd)


## 快速部署数据库实例
SequoiaDB 需要的端口号为 11800、11810、11820、11830、11840、18800。请确保这些端口没有被占用。

#### 通过quickDeploy.sh脚本快速部署数据库实例
1）启动sdbcm服务；
```
service sdbcm status
```

2）进入快速部署脚本目录；
```
cd /opt/sequoiadb/
```

2）进入/opt/sequoiadb目录，执行快速部署脚本；
```
./tools/deploy/quickDeploy.sh --sdb  --mysql
```

操作截图：
![快速部署实例](https://doc.shiyanlou.com/courses/1480/1207281/d4fd9a7884978404920e836021826aeb)

>Note:
>
>最后的报错信息是因为之前没有安装postgre的实例，不必理会。

3) 部署完毕后检查一下集群状态和数据库实例状态 

```
sdblist -l -m local
```

操作截图：
![检查集群状态和数据库实例状态](https://doc.shiyanlou.com/courses/1480/1207281/cc8224a35575a23cb6d1089d676dbb0c)

## 实验总结

SequoiaDB 是一个分布式数据库，可以存储海量的结构化和非结构化数据，并提供多种接口实例，以方便应用程序的访问。本课程简单介绍了如何快速创建巨杉数据库集群和部署数据库实例。在安装过程中，可根据实际需要设置相应的安装路径，用户名，密码等配置信息。


